var token="Bearer AAAAAAAAAAAAAAAAAAAAACuS0wAAAAAA2s5TNT5STESnlAzvW8P8OdEf0Vw%3DgHl0L5VI1kbDEgALJbRuBPPG49mKI4c2PkrXf5nc7Pm7XKT7ZM",$,createMarkers=createMarkers,pinsArray=[],map=map,turf=turf,lastDestination,moveToLocation=function(a){var b=a.id;return lastDestination&&(map.removeLayer("point1"),map.removeSource("point1"),map.removeLayer("route1"),map.removeSource("route1")),pointAnimate(b.split(", ").map(Number))},pointAnimate=function(a){function b(){map.flyTo({center:e.features[0].geometry.coordinates[i],speed:1,curve:1,zoom:6}),console.log(.0011*g),f.features[0].geometry.coordinates=e.features[0].geometry.coordinates[l],map.getSource("point1").setData(f),f.features[0].geometry.coordinates[0]!==d[0]?requestAnimationFrame(b):map.flyTo({center:e.features[0].geometry.coordinates[i],zoom:15,curve:2}),l+=1}var c=lastDestination||map.getCenter().wrap().toArray(),d=a;lastDestination=d;for(var e={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[c,d]}}]},f={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:c}}]},g=turf.lineDistance(e.features[0],"kilometers"),h=[],i=200,j=0;j<g;j++){var k=turf.along(e.features[0],j/i*g,"kilometers");h.push(k.geometry.coordinates)}e.features[0].geometry.coordinates=h;var l=0;map.addSource("route1",{type:"geojson",data:e}),map.addSource("point1",{type:"geojson",data:f}),map.addLayer({id:"route1",source:"route1",type:"line",paint:{"line-width":5,"line-color":"#007cbf"}}),map.addLayer({id:"point1",source:"point1",type:"symbol",layout:{"icon-image":"airport-15","icon-rotate":90}}),b(l)};